(function(t){function e(e){for(var r,i,s=e[0],c=e[1],u=e[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},o={app:0},a=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/vue-jw-notes/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("f6b5"),o=n.n(r),a=n("e86e"),i=n.n(a),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w3-content w3-container",attrs:{id:"app"}},[n("div",{staticClass:"w3-center",staticStyle:{"padding-top":"24px"}},[n("router-link",{staticClass:"w3-btn w3-teal",attrs:{to:"/editor/new"}},[t._v("Neue Mitschrift")])],1),n("div",t._l(t.jsonDBLocal,(function(e,r){return n("router-link",{staticClass:"w3-btn w3-hover-none w3-left-align",staticStyle:{display:"block"},attrs:{to:"/editor/"+(r+1)}},[t._v("\n            "+t._s(e.title)+"\n        ")])})),1)])},c=[],u=(n("28a5"),n("6b54"),{name:"app",components:{},data:function(){return{jsonDBLocal:[]}},mounted:function(){this.loadFromLocalStorage()},computed:{jsonDB:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return jsonDB}))},methods:{getSavedDateStringReadable:function(t){var e=t.split("-");return"".concat(e[2],".").concat(e[1],".").concat(e[0])},loadFromLocalStorage:function(){var t=JSON.parse(localStorage.getItem("DB"));void 0!==t&&null!==t&&(jsonDB=t,this.jsonDBLocal=jsonDB)}}}),l=u,d=n("2877"),p=Object(d["a"])(l,s,c,!1,null,null,null),f=p.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"Editor"}},[n("div",{staticClass:"w3-teal w3-card-2",staticStyle:{position:"fixed",top:"0",left:"0",width:"100%"}},[n("router-link",{staticClass:"w3-btn w3-hover-none",attrs:{to:"/"}},[n("i",{staticClass:"fas fa-chevron-left"})]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"w3-teal w3-border-0",staticStyle:{width:"auto","padding-left":"8px"},attrs:{id:"title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})],1),n("div",{staticStyle:{margin:"30px 24px 100%",height:"100%"}},[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],staticClass:"w3-input w3-tiny w3-text-gray",staticStyle:{border:"0"},domProps:{value:t.date},on:{input:function(e){e.target.composing||(t.date=e.target.value)}}})]),n("div",t._l(t.notes,(function(e,r){return n("div",{staticClass:"w3-row"},[n("div",{staticClass:"val-content w3-col s12",on:{click:function(e){return t.edit(r)}}},["@"!==e[0]?n("span",[t._v(t._s(t.getValue(e)))]):t._e(),"@"===e[0]?n("span",[n("a",{attrs:{href:t.getLinkToWOL(e),target:"_blank"}},[t._v(t._s(t.getValue(e)))])]):t._e()])])})),0),n("div",{staticClass:"w3-teal",staticStyle:{position:"fixed",bottom:"0",left:"0",padding:"8px",width:"100%"}},[n("div",{staticClass:"w3-row"},[n("div",{staticClass:"w3-col w3-right w3-center",staticStyle:{width:"50px",padding:"0 8px 0 4px"}},[n("button",{staticClass:"w3-btn w3-hover-none w3-hover-teal w3-teal w3-round-xxlarge",staticStyle:{width:"50px",height:"50px"},on:{click:function(e){return t.textareaToNotes()}}},[n("i",{staticClass:"fas fa-level-up-alt"})])]),t.routerHasIndex?n("div",{staticClass:"w3-col w3-right w3-center",staticStyle:{width:"50px",padding:"0 8px 0 0"}},[n("button",{staticClass:"w3-btn w3-hover-none w3-hover-teal w3-teal w3-round-xxlarge",staticStyle:{width:"50px",height:"50px"},on:{click:function(e){return t.abortEdit()}}},[n("i",{staticClass:"far fa-times-circle"})])]):t._e(),n("div",{staticClass:"w3-rest w3-container"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.current.text,expression:"form.current.text"}],staticClass:"w3-input w3-round-large",staticStyle:{resize:"none"},domProps:{value:t.form.current.text},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?t.textareaToNotes():null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.abortEdit()}],input:function(e){e.target.composing||t.$set(t.form.current,"text",e.target.value)}}})])])])])])},v=[],w=(n("4917"),{name:"Editor",data:function(){return{title:"",date:"",form:{current:{text:""}},notes:[]}},mounted:function(){var t=this.currentId;if("new"===t)this.createNewNotesArray();else if(void 0===jsonDB[t])return this.$router.push("/");this.setDefaults()},watch:{"$route.params.index":function(){this.changeTextareaContent()},title:function(){jsonDB[this.currentId].title=this.title,this.saveInLocalStorage()},notes:function(){jsonDB[this.currentId].notes=this.notes},date:function(){jsonDB[this.currentId].date=this.date,this.saveInLocalStorage()}},computed:{routerHasIndex:function(){return!(void 0===this.$route.params.index)},getDate:function(){var t=new Date;return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())},currentId:function(){var t=this.$route.params.id;return"new"===t?"new":parseInt(t)-1}},methods:{setDefaults:function(){var t=["title","notes","date"];for(var e in t){var n=t[e],r=jsonDB[this.currentId][n];this[n]=void 0!==r?r:"",""===this.notes&&(this.notes=[])}},createNewNotesArray:function(){jsonDB.push({}),this.$router.push("/editor/".concat(jsonDB.length)),$("#title").focus()},saveInLocalStorage:function(){localStorage.setItem("DB",JSON.stringify(jsonDB)),console.log("gespeichert")},changeTextareaContent:function(){var t=this.$route.params.index;void 0!==t&&(t=parseInt(t),this.form.current.text=this.notes[t])},textareaToNotes:function(){var t=this.form.current.text,e=this.$route.params.id,n=this.$route.params.index,r=/[0-9]:[0-9]/,o=null!==t.match(r),a="@"===t[0];o&&!a&&(t="@"+t),this.form.current.text="",void 0!==n?(n=parseInt(n),this.notes[n]=t,this.$router.push("/editor/".concat(e))):this.notes.push(t),this.saveInLocalStorage(),$("textarea").focus()},edit:function(t){if(!(t<0||t>=this.notes.length)){var e=this.$route.params.id;this.$router.push("/editor/".concat(e,"/").concat(t)),$("textarea").focus()}},abortEdit:function(){var t=this.$route.params.id,e=this.$route.params.index;this.form.current.text="",void 0!==e&&this.$router.push("/editor/".concat(t))},getValue:function(t){var e=t[0];return"@"===e?t.substr(1):t},getLinkToWOL:function(t){return t=this.getValue(t),"https://wol.jw.org/de/wol/l/r10/lp-x?q="+encodeURIComponent(t)}}}),g=w,m=Object(d["a"])(g,h,v,!1,null,"1dfd82a8",null),x=m.exports,y=[{path:"/",component:f},{path:"/editor/:id?/:index?",component:x}];o.a.config.productionTip=!1,o.a.use(i.a),new o.a({router:new i.a({routes:y}),el:"#app"})}});
//# sourceMappingURL=app.35501d60.js.map